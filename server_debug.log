
> musenest@1.0.0 start
> node server.js

Missing required environment variables: DB_PASSWORD, DB_DATABASE
AI_SERVER_URL is not set; AI proxy and tests may fail.
‚úÖ Quick Facts API route loaded successfully
üîç Testing database connection...
‚úÖ Database connected successfully
üöÄ MuseNest Server Started
üìç Server running on port 3000
üåç Environment: development
üîó Health check: http://localhost:3000/health

Next steps:
1. Copy .env.example to .env and configure your database
2. Run: npm run migrate (to set up database)
3. Run: npm run seed (to add sample data)
Loaded 0 active impersonation sessions
{"ts":"2025-08-13T22:02:25.502Z","level":"info","msg":"request.start","requestId":"5b35f5e5-aee6-488a-b325-2abc239de1a3","method":"GET","url":"/modelexample?preview_theme=2","ip":"::1"}
üìã Preview query results: [
  {
    id: 2,
    name: 'glamour',
    display_name: 'Glamour Elite',
    default_color_scheme: {
      text: '#831843',
      accent: '#F59E0B',
      primary: '#EC4899',
      secondary: '#BE185D',
      background: '#FDF2F8'
    }
  }
]
   - Database theme name: "glamour"
   - Mapped to handlebars theme: "glamour"
   - Display name: "Glamour Elite"
üì£ Loaded 4 testimonials for modelexample
üíº Loaded 6 services for modelexample
üñºÔ∏è Loaded 5 gallery images for home preview
üìÖ Loaded 3 upcoming calendar events for modelexample
üìÖ Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
üîç Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
üîç Portrait query result: 1 images found
üñºÔ∏è Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
üñºÔ∏è Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
üîç DEBUG: home_content structure for glamour theme: {
  "id": 1,
  "modelId": 39,
  "heroSectionVisible": 1,
  "heroTitle": "Welcome to My World",
  "heroSubtitle": "Elegance & Sophistication",
  "heroBackgroundImageId": 270,
  "heroBackgroundOpacity": "0.20",
  "heroButton_1Text": "Book Now",
  "heroButton_1Link": "calendar",
  "heroButton_2Text": "Contact Me",
  "heroButton_2Link": "contact",
  "aboutSectionVisible": 1,
  "aboutTitle": "About Model Example",
  "aboutParagraph_1": "Welcome to my world of elegance and sophistication. I am a professional companion who values discretion, intelligence, and genuine connection.",
  "aboutParagraph_2": "With years of experience in providing exceptional companionship services, I pride myself on creating memorable experiences tailored to each client's unique needs.",
  "aboutLinkText": null,
  "aboutLinkDestination": "about",
  "portraitImageId": 255,
  "portraitAlt": "Professional business attire portrait",
  "portraitSectionVisible": 1,
  "gallerySectionVisible": 1,
  "featuredGallerySectionId": 9,
  "gallerySectionTitle": "Gallery",
  "galleryButtonText": "View Full Gallery",
  "galleryButtonLink": "gallery",
  "testimonialsSectionVisible": 1,
  "testimonialsSectionTitle": "What Clients Say",
  "testimonialsDisplayCount": 3,
  "ctaSectionVisible": 1,
  "ctaSectionTitle": "Ready to Meet?",
  "ctaSectionSubtitle": "Experience elegance and sophistication with professional companionship services",
  "ctaButton_1Text": "View Calendar",
  "ctaButton_1Link": "calendar",
  "ctaButton_2Text": "Contact Me",
  "ctaButton_2Link": "contact",
  "createdAt": "2025-08-08T17:28:37.000Z",
  "updatedAt": "2025-08-12T20:09:43.000Z",
  "travelSectionVisible": 1,
  "travelSectionTitle": "Location Availability",
  "travelDisplayCount": 3,
  "travelCtaText": "View Full Calendar",
  "travelCtaLink": "calendar",
  "portraitImageUrl": "/uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg",
  "heroBackgroundImageUrl": "/uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg"
}
üîç DEBUG: pageContent keys: [
  'id',
  'modelId',
  'heroSectionVisible',
  'heroTitle',
  'heroSubtitle',
  'heroBackgroundImageId',
  'heroBackgroundOpacity',
  'heroButton_1Text',
  'heroButton_1Link',
  'heroButton_2Text',
  'heroButton_2Link',
  'aboutSectionVisible',
  'aboutTitle',
  'aboutParagraph_1',
  'aboutParagraph_2',
  'aboutLinkText',
  'aboutLinkDestination',
  'portraitImageId',
  'portraitAlt',
  'portraitSectionVisible',
  'gallerySectionVisible',
  'featuredGallerySectionId',
  'gallerySectionTitle',
  'galleryButtonText',
  'galleryButtonLink',
  'testimonialsSectionVisible',
  'testimonialsSectionTitle',
  'testimonialsDisplayCount',
  'ctaSectionVisible',
  'ctaSectionTitle',
  'ctaSectionSubtitle',
  'ctaButton_1Text',
  'ctaButton_1Link',
  'ctaButton_2Text',
  'ctaButton_2Link',
  'createdAt',
  'updatedAt',
  'travelSectionVisible',
  'travelSectionTitle',
  'travelDisplayCount',
  'travelCtaText',
  'travelCtaLink',
  'portraitImageUrl',
  'heroBackgroundImageUrl'
]
üîç DEBUG: pageContent length: 44
{"ts":"2025-08-13T22:02:25.589Z","level":"info","msg":"request.end","requestId":"5b35f5e5-aee6-488a-b325-2abc239de1a3","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":88,"contentLength":"25327"}
{"ts":"2025-08-13T22:02:25.589Z","level":"info","msg":"request.end","requestId":"5b35f5e5-aee6-488a-b325-2abc239de1a3","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":88,"contentLength":"25327"}
{"ts":"2025-08-13T22:02:39.108Z","level":"info","msg":"request.start","requestId":"f4ede3c9-4919-45e5-8a7b-bb6e55b6fb33","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T22:02:39.113Z","level":"info","msg":"request.end","requestId":"f4ede3c9-4919-45e5-8a7b-bb6e55b6fb33","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":5,"contentLength":"92"}
{"ts":"2025-08-13T22:02:39.113Z","level":"info","msg":"request.end","requestId":"f4ede3c9-4919-45e5-8a7b-bb6e55b6fb33","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":5,"contentLength":"92"}
{"ts":"2025-08-13T22:03:10.108Z","level":"info","msg":"request.start","requestId":"69df85f9-f9fd-4f3a-98a6-f0173a054bb6","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T22:03:10.109Z","level":"info","msg":"request.end","requestId":"69df85f9-f9fd-4f3a-98a6-f0173a054bb6","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":1,"contentLength":"92"}
{"ts":"2025-08-13T22:03:10.109Z","level":"info","msg":"request.end","requestId":"69df85f9-f9fd-4f3a-98a6-f0173a054bb6","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":1,"contentLength":"92"}
{"ts":"2025-08-13T22:03:20.182Z","level":"info","msg":"request.start","requestId":"962c451a-02b6-40f0-8db6-bb97985f8331","method":"GET","url":"/modelexample?preview_theme=2","ip":"::1"}
üìã Preview query results: [
  {
    id: 2,
    name: 'glamour',
    display_name: 'Glamour Elite',
    default_color_scheme: {
      text: '#831843',
      accent: '#F59E0B',
      primary: '#EC4899',
      secondary: '#BE185D',
      background: '#FDF2F8'
    }
  }
]
   - Database theme name: "glamour"
   - Mapped to handlebars theme: "glamour"
   - Display name: "Glamour Elite"
üì£ Loaded 4 testimonials for modelexample
üíº Loaded 6 services for modelexample
üñºÔ∏è Loaded 5 gallery images for home preview
üìÖ Loaded 3 upcoming calendar events for modelexample
üìÖ Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
üîç Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
üîç Portrait query result: 1 images found
üñºÔ∏è Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
üñºÔ∏è Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
üîç DEBUG: home_content structure for glamour theme: {
  "id": 1,
  "modelId": 39,
  "heroSectionVisible": 1,
  "heroTitle": "Welcome to My World",
  "heroSubtitle": "Elegance & Sophistication",
  "heroBackgroundImageId": 270,
  "heroBackgroundOpacity": "0.20",
  "heroButton_1Text": "Book Now",
  "heroButton_1Link": "calendar",
  "heroButton_2Text": "Contact Me",
  "heroButton_2Link": "contact",
  "aboutSectionVisible": 1,
  "aboutTitle": "About Model Example",
  "aboutParagraph_1": "Welcome to my world of elegance and sophistication. I am a professional companion who values discretion, intelligence, and genuine connection.",
  "aboutParagraph_2": "With years of experience in providing exceptional companionship services, I pride myself on creating memorable experiences tailored to each client's unique needs.",
  "aboutLinkText": null,
  "aboutLinkDestination": "about",
  "portraitImageId": 255,
  "portraitAlt": "Professional business attire portrait",
  "portraitSectionVisible": 1,
  "gallerySectionVisible": 1,
  "featuredGallerySectionId": 9,
  "gallerySectionTitle": "Gallery",
  "galleryButtonText": "View Full Gallery",
  "galleryButtonLink": "gallery",
  "testimonialsSectionVisible": 1,
  "testimonialsSectionTitle": "What Clients Say",
  "testimonialsDisplayCount": 3,
  "ctaSectionVisible": 1,
  "ctaSectionTitle": "Ready to Meet?",
  "ctaSectionSubtitle": "Experience elegance and sophistication with professional companionship services",
  "ctaButton_1Text": "View Calendar",
  "ctaButton_1Link": "calendar",
  "ctaButton_2Text": "Contact Me",
  "ctaButton_2Link": "contact",
  "createdAt": "2025-08-08T17:28:37.000Z",
  "updatedAt": "2025-08-12T20:09:43.000Z",
  "travelSectionVisible": 1,
  "travelSectionTitle": "Location Availability",
  "travelDisplayCount": 3,
  "travelCtaText": "View Full Calendar",
  "travelCtaLink": "calendar",
  "portraitImageUrl": "/uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg",
  "heroBackgroundImageUrl": "/uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg"
}
üîç DEBUG: pageContent keys: [
  'id',
  'modelId',
  'heroSectionVisible',
  'heroTitle',
  'heroSubtitle',
  'heroBackgroundImageId',
  'heroBackgroundOpacity',
  'heroButton_1Text',
  'heroButton_1Link',
  'heroButton_2Text',
  'heroButton_2Link',
  'aboutSectionVisible',
  'aboutTitle',
  'aboutParagraph_1',
  'aboutParagraph_2',
  'aboutLinkText',
  'aboutLinkDestination',
  'portraitImageId',
  'portraitAlt',
  'portraitSectionVisible',
  'gallerySectionVisible',
  'featuredGallerySectionId',
  'gallerySectionTitle',
  'galleryButtonText',
  'galleryButtonLink',
  'testimonialsSectionVisible',
  'testimonialsSectionTitle',
  'testimonialsDisplayCount',
  'ctaSectionVisible',
  'ctaSectionTitle',
  'ctaSectionSubtitle',
  'ctaButton_1Text',
  'ctaButton_1Link',
  'ctaButton_2Text',
  'ctaButton_2Link',
  'createdAt',
  'updatedAt',
  'travelSectionVisible',
  'travelSectionTitle',
  'travelDisplayCount',
  'travelCtaText',
  'travelCtaLink',
  'portraitImageUrl',
  'heroBackgroundImageUrl'
]
üîç DEBUG: pageContent length: 44
{"ts":"2025-08-13T22:03:20.216Z","level":"info","msg":"request.end","requestId":"962c451a-02b6-40f0-8db6-bb97985f8331","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":35,"contentLength":"25327"}
{"ts":"2025-08-13T22:03:20.216Z","level":"info","msg":"request.end","requestId":"962c451a-02b6-40f0-8db6-bb97985f8331","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":35,"contentLength":"25327"}
