Missing required environment variables: DB_PASSWORD, DB_DATABASE
AI_SERVER_URL is not set; AI proxy and tests may fail.
✅ Quick Facts API route loaded successfully
🔍 Testing database connection...
✅ Database connected successfully
🚀 MuseNest Server Started
📍 Server running on port 3000
🌍 Environment: development
🔗 Health check: http://localhost:3000/health

Next steps:
1. Copy .env.example to .env and configure your database
2. Run: npm run migrate (to set up database)
3. Run: npm run seed (to add sample data)
Loaded 0 active impersonation sessions
{"ts":"2025-08-14T19:30:08.040Z","level":"info","msg":"request.start","requestId":"b157218d-7e43-4343-8535-c26e53f3bc92","method":"GET","url":"/modelexample/gallery","ip":"::1"}
🎨 Using assigned theme: luxury (mapped from "luxury")
{"ts":"2025-08-14T19:30:08.069Z","level":"info","msg":"request.end","requestId":"b157218d-7e43-4343-8535-c26e53f3bc92","method":"GET","url":"/modelexample/gallery","status":200,"durationMs":30,"contentLength":"55948"}
{"ts":"2025-08-14T19:30:08.069Z","level":"info","msg":"request.end","requestId":"b157218d-7e43-4343-8535-c26e53f3bc92","method":"GET","url":"/modelexample/gallery","status":200,"durationMs":30,"contentLength":"55948"}
{"ts":"2025-08-14T19:30:18.947Z","level":"info","msg":"request.start","requestId":"6ee2267f-6fb2-4019-be08-982128c4ffdb","method":"GET","url":"/modelexample/about?preview_theme=3","ip":"::1"}
📋 Preview query results: [
  {
    id: 3,
    name: 'luxury',
    display_name: 'Luxury Premium',
    default_color_scheme: {
      text: '#581C87',
      accent: '#F59E0B',
      primary: '#7C3AED',
      secondary: '#5B21B6',
      background: '#FAF5FF'
    }
  }
]
🔍 Field mapping - quick_facts_visible: 1
🔍 Field mapping - factsVisible: 1
📋 Built 4 quick facts from qf_* fields: [
  { question: 'Location', answer: 'Denver, Colorado' },
  { question: 'Languages', answer: 'English, French, Spanish' },
  { question: 'Education', answer: "Master's in Art History" },
  { question: 'Specialties', answer: 'Erotic Romance' }
]
   - Database theme name: "luxury"
   - Mapped to handlebars theme: "luxury"
   - Display name: "Luxury Premium"
🔍 Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
🔍 Portrait query result: 1 images found
🖼️ Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
🔍 About portrait query result: 1 images found
🖼️ Loaded about portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
{"ts":"2025-08-14T19:30:18.978Z","level":"info","msg":"request.end","requestId":"6ee2267f-6fb2-4019-be08-982128c4ffdb","method":"GET","url":"/modelexample/about?preview_theme=3","status":304,"durationMs":31,"contentLength":0}
{"ts":"2025-08-14T19:30:18.978Z","level":"info","msg":"request.end","requestId":"6ee2267f-6fb2-4019-be08-982128c4ffdb","method":"GET","url":"/modelexample/about?preview_theme=3","status":304,"durationMs":31,"contentLength":0}
{"ts":"2025-08-14T19:30:20.347Z","level":"info","msg":"request.start","requestId":"d984e18c-d634-4c69-90f3-7186d1f7d6f4","method":"GET","url":"/modelexample?preview_theme=3","ip":"::1"}
📋 Preview query results: [
  {
    id: 3,
    name: 'luxury',
    display_name: 'Luxury Premium',
    default_color_scheme: {
      text: '#581C87',
      accent: '#F59E0B',
      primary: '#7C3AED',
      secondary: '#5B21B6',
      background: '#FAF5FF'
    }
  }
]
   - Database theme name: "luxury"
   - Mapped to handlebars theme: "luxury"
   - Display name: "Luxury Premium"
📣 Loaded 4 testimonials for modelexample
💼 Loaded 6 services for modelexample
🖼️ Loaded 5 gallery images for home preview
📅 Loaded 3 upcoming calendar events for modelexample
📅 Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
🔍 Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
🔍 Portrait query result: 1 images found
🖼️ Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
🖼️ Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
🔍 About portrait query result: 1 images found
🖼️ Loaded about portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
{"ts":"2025-08-14T19:30:20.381Z","level":"info","msg":"request.end","requestId":"d984e18c-d634-4c69-90f3-7186d1f7d6f4","method":"GET","url":"/modelexample?preview_theme=3","status":304,"durationMs":34,"contentLength":0}
{"ts":"2025-08-14T19:30:20.381Z","level":"info","msg":"request.end","requestId":"d984e18c-d634-4c69-90f3-7186d1f7d6f4","method":"GET","url":"/modelexample?preview_theme=3","status":304,"durationMs":34,"contentLength":0}
{"ts":"2025-08-14T19:30:41.254Z","level":"info","msg":"request.start","requestId":"0614203d-58a8-42dc-ba30-e1ee4a5d2514","method":"GET","url":"/modelexample/rates?preview_theme=3","ip":"::1"}
📋 Preview query results: [
  {
    id: 3,
    name: 'luxury',
    display_name: 'Luxury Premium',
    default_color_scheme: {
      text: '#581C87',
      accent: '#F59E0B',
      primary: '#7C3AED',
      secondary: '#5B21B6',
      background: '#FAF5FF'
    }
  }
]
💰 Loaded rates page content for model 39
   - Database theme name: "luxury"
   - Mapped to handlebars theme: "luxury"
   - Display name: "Luxury Premium"
{"ts":"2025-08-14T19:30:41.284Z","level":"info","msg":"request.end","requestId":"0614203d-58a8-42dc-ba30-e1ee4a5d2514","method":"GET","url":"/modelexample/rates?preview_theme=3","status":304,"durationMs":30,"contentLength":0}
{"ts":"2025-08-14T19:30:41.284Z","level":"info","msg":"request.end","requestId":"0614203d-58a8-42dc-ba30-e1ee4a5d2514","method":"GET","url":"/modelexample/rates?preview_theme=3","status":304,"durationMs":30,"contentLength":0}
{"ts":"2025-08-14T19:30:52.030Z","level":"info","msg":"request.start","requestId":"88a925aa-ad09-4dd1-b03d-9a377cf51715","method":"GET","url":"/modelexample/gallery?preview_theme=3","ip":"::1"}
📋 Preview query results: [
  {
    id: 3,
    name: 'luxury',
    display_name: 'Luxury Premium',
    default_color_scheme: {
      text: '#581C87',
      accent: '#F59E0B',
      primary: '#7C3AED',
      secondary: '#5B21B6',
      background: '#FAF5FF'
    }
  }
]
   - Database theme name: "luxury"
   - Mapped to handlebars theme: "luxury"
   - Display name: "Luxury Premium"
{"ts":"2025-08-14T19:30:52.043Z","level":"info","msg":"request.end","requestId":"88a925aa-ad09-4dd1-b03d-9a377cf51715","method":"GET","url":"/modelexample/gallery?preview_theme=3","status":200,"durationMs":13,"contentLength":"56654"}
{"ts":"2025-08-14T19:30:52.044Z","level":"info","msg":"request.end","requestId":"88a925aa-ad09-4dd1-b03d-9a377cf51715","method":"GET","url":"/modelexample/gallery?preview_theme=3","status":200,"durationMs":14,"contentLength":"56654"}
{"ts":"2025-08-14T19:30:56.530Z","level":"info","msg":"request.start","requestId":"499c6bfb-b7f4-429c-b0d5-798bd7e777c4","method":"GET","url":"/modelexample/about?preview_theme=3","ip":"::1"}
📋 Preview query results: [
  {
    id: 3,
    name: 'luxury',
    display_name: 'Luxury Premium',
    default_color_scheme: {
      text: '#581C87',
      accent: '#F59E0B',
      primary: '#7C3AED',
      secondary: '#5B21B6',
      background: '#FAF5FF'
    }
  }
]
🔍 Field mapping - quick_facts_visible: 1
🔍 Field mapping - factsVisible: 1
📋 Built 4 quick facts from qf_* fields: [
  { question: 'Location', answer: 'Denver, Colorado' },
  { question: 'Languages', answer: 'English, French, Spanish' },
  { question: 'Education', answer: "Master's in Art History" },
  { question: 'Specialties', answer: 'Erotic Romance' }
]
   - Database theme name: "luxury"
   - Mapped to handlebars theme: "luxury"
   - Display name: "Luxury Premium"
🔍 Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
🔍 Portrait query result: 1 images found
🖼️ Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
🔍 About portrait query result: 1 images found
🖼️ Loaded about portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
{"ts":"2025-08-14T19:30:56.583Z","level":"info","msg":"request.end","requestId":"499c6bfb-b7f4-429c-b0d5-798bd7e777c4","method":"GET","url":"/modelexample/about?preview_theme=3","status":304,"durationMs":53,"contentLength":0}
{"ts":"2025-08-14T19:30:56.583Z","level":"info","msg":"request.end","requestId":"499c6bfb-b7f4-429c-b0d5-798bd7e777c4","method":"GET","url":"/modelexample/about?preview_theme=3","status":304,"durationMs":53,"contentLength":0}
{"ts":"2025-08-14T19:31:05.228Z","level":"info","msg":"request.start","requestId":"bc15c7e3-c90c-49e0-a1a9-2831a373d22e","method":"GET","url":"/modelexample?preview_theme=3","ip":"::1"}
📋 Preview query results: [
  {
    id: 3,
    name: 'luxury',
    display_name: 'Luxury Premium',
    default_color_scheme: {
      text: '#581C87',
      accent: '#F59E0B',
      primary: '#7C3AED',
      secondary: '#5B21B6',
      background: '#FAF5FF'
    }
  }
]
   - Database theme name: "luxury"
   - Mapped to handlebars theme: "luxury"
   - Display name: "Luxury Premium"
📣 Loaded 4 testimonials for modelexample
💼 Loaded 6 services for modelexample
🖼️ Loaded 5 gallery images for home preview
📅 Loaded 3 upcoming calendar events for modelexample
📅 Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
🔍 Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
🔍 Portrait query result: 1 images found
🖼️ Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
🖼️ Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
🔍 About portrait query result: 1 images found
🖼️ Loaded about portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
{"ts":"2025-08-14T19:31:05.264Z","level":"info","msg":"request.end","requestId":"bc15c7e3-c90c-49e0-a1a9-2831a373d22e","method":"GET","url":"/modelexample?preview_theme=3","status":304,"durationMs":36,"contentLength":0}
{"ts":"2025-08-14T19:31:05.264Z","level":"info","msg":"request.end","requestId":"bc15c7e3-c90c-49e0-a1a9-2831a373d22e","method":"GET","url":"/modelexample?preview_theme=3","status":304,"durationMs":36,"contentLength":0}
