
> musenest@1.0.0 start
> node server.js

Missing required environment variables: DB_PASSWORD, DB_DATABASE
AI_SERVER_URL is not set; AI proxy and tests may fail.
‚úÖ Quick Facts API route loaded successfully
üîç Testing database connection...
‚úÖ Database connected successfully
üöÄ MuseNest Server Started
üìç Server running on port 3000
üåç Environment: development
üîó Health check: http://localhost:3000/health

Next steps:
1. Copy .env.example to .env and configure your database
2. Run: npm run migrate (to set up database)
3. Run: npm run seed (to add sample data)
Loaded 0 active impersonation sessions
{"ts":"2025-08-13T21:58:31.091Z","level":"info","msg":"request.start","requestId":"443491bc-4a9b-4843-9531-3a4d21f2cb1c","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T21:58:31.096Z","level":"info","msg":"request.end","requestId":"443491bc-4a9b-4843-9531-3a4d21f2cb1c","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":5,"contentLength":"92"}
{"ts":"2025-08-13T21:58:31.096Z","level":"info","msg":"request.end","requestId":"443491bc-4a9b-4843-9531-3a4d21f2cb1c","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":5,"contentLength":"92"}
{"ts":"2025-08-13T21:58:32.077Z","level":"info","msg":"request.start","requestId":"3222c99a-ec7b-4371-a37c-1cb0fdaeeb67","method":"GET","url":"/modelexample?preview_theme=2","ip":"::1"}
üìã Preview query results: [
  {
    id: 2,
    name: 'glamour',
    display_name: 'Glamour Elite',
    default_color_scheme: {
      text: '#831843',
      accent: '#F59E0B',
      primary: '#EC4899',
      secondary: '#BE185D',
      background: '#FDF2F8'
    }
  }
]
   - Database theme name: "glamour"
   - Mapped to handlebars theme: "glamour"
   - Display name: "Glamour Elite"
üì£ Loaded 4 testimonials for modelexample
üíº Loaded 6 services for modelexample
üñºÔ∏è Loaded 5 gallery images for home preview
üìÖ Loaded 3 upcoming calendar events for modelexample
üìÖ Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
üîç Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
üîç Portrait query result: 1 images found
üñºÔ∏è Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
üñºÔ∏è Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
{"ts":"2025-08-13T21:58:32.229Z","level":"info","msg":"request.end","requestId":"3222c99a-ec7b-4371-a37c-1cb0fdaeeb67","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":152,"contentLength":"25327"}
{"ts":"2025-08-13T21:58:32.229Z","level":"info","msg":"request.end","requestId":"3222c99a-ec7b-4371-a37c-1cb0fdaeeb67","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":152,"contentLength":"25327"}
{"ts":"2025-08-13T21:58:49.839Z","level":"info","msg":"request.start","requestId":"97fb884a-3173-4129-8e9f-77bbfcae77fd","method":"GET","url":"/modelexample?preview_theme=2","ip":"::1"}
üìã Preview query results: [
  {
    id: 2,
    name: 'glamour',
    display_name: 'Glamour Elite',
    default_color_scheme: {
      text: '#831843',
      accent: '#F59E0B',
      primary: '#EC4899',
      secondary: '#BE185D',
      background: '#FDF2F8'
    }
  }
]
   - Database theme name: "glamour"
   - Mapped to handlebars theme: "glamour"
   - Display name: "Glamour Elite"
üì£ Loaded 4 testimonials for modelexample
üíº Loaded 6 services for modelexample
üñºÔ∏è Loaded 5 gallery images for home preview
üìÖ Loaded 3 upcoming calendar events for modelexample
üìÖ Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
üîç Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
üîç Portrait query result: 1 images found
üñºÔ∏è Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
üñºÔ∏è Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
{"ts":"2025-08-13T21:58:49.864Z","level":"info","msg":"request.end","requestId":"97fb884a-3173-4129-8e9f-77bbfcae77fd","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":25,"contentLength":"25327"}
{"ts":"2025-08-13T21:58:49.864Z","level":"info","msg":"request.end","requestId":"97fb884a-3173-4129-8e9f-77bbfcae77fd","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":25,"contentLength":"25327"}
{"ts":"2025-08-13T21:59:02.115Z","level":"info","msg":"request.start","requestId":"aa4397c5-e368-4d1a-bfe2-9c646af868e2","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T21:59:02.116Z","level":"info","msg":"request.end","requestId":"aa4397c5-e368-4d1a-bfe2-9c646af868e2","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":1,"contentLength":"92"}
{"ts":"2025-08-13T21:59:02.116Z","level":"info","msg":"request.end","requestId":"aa4397c5-e368-4d1a-bfe2-9c646af868e2","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":1,"contentLength":"92"}
{"ts":"2025-08-13T21:59:05.160Z","level":"info","msg":"request.start","requestId":"6350d689-c720-47b7-aa18-88f5bf27e419","method":"GET","url":"/modelexample","ip":"::1"}
üé® Using assigned theme: luxury (mapped from "luxury")
üì£ Loaded 4 testimonials for modelexample
üíº Loaded 6 services for modelexample
üñºÔ∏è Loaded 5 gallery images for home preview
üìÖ Loaded 3 upcoming calendar events for modelexample
üìÖ Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
üîç Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
üîç Portrait query result: 1 images found
üñºÔ∏è Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
üñºÔ∏è Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
{"ts":"2025-08-13T21:59:05.222Z","level":"info","msg":"request.end","requestId":"6350d689-c720-47b7-aa18-88f5bf27e419","method":"GET","url":"/modelexample","status":200,"durationMs":62,"contentLength":"35406"}
{"ts":"2025-08-13T21:59:05.222Z","level":"info","msg":"request.end","requestId":"6350d689-c720-47b7-aa18-88f5bf27e419","method":"GET","url":"/modelexample","status":200,"durationMs":62,"contentLength":"35406"}
{"ts":"2025-08-13T21:59:33.111Z","level":"info","msg":"request.start","requestId":"b46958d1-60e9-4e23-a91e-669bd0af52b8","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T21:59:33.115Z","level":"info","msg":"request.end","requestId":"b46958d1-60e9-4e23-a91e-669bd0af52b8","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":4,"contentLength":"92"}
{"ts":"2025-08-13T21:59:33.115Z","level":"info","msg":"request.end","requestId":"b46958d1-60e9-4e23-a91e-669bd0af52b8","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":4,"contentLength":"92"}
{"ts":"2025-08-13T22:00:04.127Z","level":"info","msg":"request.start","requestId":"dfb25352-9e4d-4453-93c6-a818ac3e4805","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T22:00:04.129Z","level":"info","msg":"request.end","requestId":"dfb25352-9e4d-4453-93c6-a818ac3e4805","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":2,"contentLength":"92"}
{"ts":"2025-08-13T22:00:04.129Z","level":"info","msg":"request.end","requestId":"dfb25352-9e4d-4453-93c6-a818ac3e4805","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":2,"contentLength":"92"}
{"ts":"2025-08-13T22:00:35.153Z","level":"info","msg":"request.start","requestId":"4965d410-1cc7-4ad4-9616-e09cf32f0641","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T22:00:35.167Z","level":"info","msg":"request.end","requestId":"4965d410-1cc7-4ad4-9616-e09cf32f0641","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":14,"contentLength":"92"}
{"ts":"2025-08-13T22:00:35.168Z","level":"info","msg":"request.end","requestId":"4965d410-1cc7-4ad4-9616-e09cf32f0641","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":15,"contentLength":"92"}
{"ts":"2025-08-13T22:01:03.131Z","level":"info","msg":"request.start","requestId":"157555c3-c5f0-4e0b-ba76-e2d8c4554be4","method":"GET","url":"/api/site-configuration/subscription/analytics","ip":"::1"}
{"ts":"2025-08-13T22:01:03.133Z","level":"info","msg":"request.end","requestId":"157555c3-c5f0-4e0b-ba76-e2d8c4554be4","method":"GET","url":"/api/site-configuration/subscription/analytics","status":404,"durationMs":2,"contentLength":"92"}
{"ts":"2025-08-13T22:01:03.133Z","level":"info","msg":"request.end","requestId":"157555c3-c5f0-4e0b-ba76-e2d8c4554be4","method":"GET","url":"/api/site-configuration/subscription/analytics","status":404,"durationMs":2,"contentLength":"92"}
{"ts":"2025-08-13T22:01:03.156Z","level":"info","msg":"request.start","requestId":"a21f712c-cbaa-4c54-ba5d-e2f9c1cb865e","method":"GET","url":"/api/system-management/stats","ip":"::1"}
{"ts":"2025-08-13T22:01:03.156Z","level":"info","msg":"request.end","requestId":"a21f712c-cbaa-4c54-ba5d-e2f9c1cb865e","method":"GET","url":"/api/system-management/stats","status":404,"durationMs":0,"contentLength":"92"}
{"ts":"2025-08-13T22:01:03.156Z","level":"info","msg":"request.end","requestId":"a21f712c-cbaa-4c54-ba5d-e2f9c1cb865e","method":"GET","url":"/api/system-management/stats","status":404,"durationMs":0,"contentLength":"92"}
{"ts":"2025-08-13T22:01:06.108Z","level":"info","msg":"request.start","requestId":"1000ea7e-e23c-42f1-a4c8-d285828fd653","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T22:01:06.108Z","level":"info","msg":"request.end","requestId":"1000ea7e-e23c-42f1-a4c8-d285828fd653","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":0,"contentLength":"92"}
{"ts":"2025-08-13T22:01:06.108Z","level":"info","msg":"request.end","requestId":"1000ea7e-e23c-42f1-a4c8-d285828fd653","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":0,"contentLength":"92"}
{"ts":"2025-08-13T22:01:37.144Z","level":"info","msg":"request.start","requestId":"2b21f169-d23f-4773-a134-101d59cc611e","method":"GET","url":"/api/site-configuration/servers/health","ip":"::1"}
{"ts":"2025-08-13T22:01:37.145Z","level":"info","msg":"request.end","requestId":"2b21f169-d23f-4773-a134-101d59cc611e","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":1,"contentLength":"92"}
{"ts":"2025-08-13T22:01:37.146Z","level":"info","msg":"request.end","requestId":"2b21f169-d23f-4773-a134-101d59cc611e","method":"GET","url":"/api/site-configuration/servers/health","status":404,"durationMs":2,"contentLength":"92"}
{"ts":"2025-08-13T22:01:38.262Z","level":"info","msg":"request.start","requestId":"ced976be-02f1-4392-9166-ab9209ea743a","method":"GET","url":"/modelexample?preview_theme=2","ip":"::1"}
üìã Preview query results: [
  {
    id: 2,
    name: 'glamour',
    display_name: 'Glamour Elite',
    default_color_scheme: {
      text: '#831843',
      accent: '#F59E0B',
      primary: '#EC4899',
      secondary: '#BE185D',
      background: '#FDF2F8'
    }
  }
]
   - Database theme name: "glamour"
   - Mapped to handlebars theme: "glamour"
   - Display name: "Glamour Elite"
üì£ Loaded 4 testimonials for modelexample
üíº Loaded 6 services for modelexample
üñºÔ∏è Loaded 5 gallery images for home preview
üìÖ Loaded 3 upcoming calendar events for modelexample
üìÖ Calendar events: [
  {
    location: 'DTC Incall & Outcall',
    date: 2025-08-14T06:00:00.000Z,
    dateRange: 'August 14-15, 2025'
  },
  {
    location: 'Loveland Incall',
    date: 2025-08-22T06:00:00.000Z,
    dateRange: 'August 22-23, 2025'
  },
  {
    location: 'DTC Incall',
    date: 2025-08-26T06:00:00.000Z,
    dateRange: 'August 26-29, 2025'
  }
]
üîç Found 1 images with ID 255: [
  {
    id: 255,
    filename: 'Blouse_Model_1754767723448.jpg',
    model_id: 39,
    is_active: 1
  }
]
üîç Portrait query result: 1 images found
üñºÔ∏è Loaded portrait image: /uploads/modelexample/public/gallery/Blouse_Model_1754767723448.jpg
üñºÔ∏è Loaded hero background image: /uploads/modelexample/public/gallery/Sportscar_Model_1754767725105.jpg
{"ts":"2025-08-13T22:01:38.282Z","level":"info","msg":"request.end","requestId":"ced976be-02f1-4392-9166-ab9209ea743a","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":20,"contentLength":"25327"}
{"ts":"2025-08-13T22:01:38.282Z","level":"info","msg":"request.end","requestId":"ced976be-02f1-4392-9166-ab9209ea743a","method":"GET","url":"/modelexample?preview_theme=2","status":200,"durationMs":20,"contentLength":"25327"}
