<!-- Gallery Hero Section -->
<section class="bg-basic-primary text-white py-16" data-aos="fade-in">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-6 basic-heading">
                Photo Gallery
            </h1>
            <p class="text-xl md:text-2xl opacity-90 max-w-3xl mx-auto">
                {{content.galleryIntro}}
            </p>
        </div>
    </div>
</section>

<!-- Gallery Grid -->
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        {{#if galleryImages}}
        <!-- Filter Tabs -->
        {{#if galleryCategories}}
        <div class="text-center mb-12" data-aos="fade-up">
            <div class="inline-flex bg-gray-100 rounded-lg p-1">
                <button class="gallery-filter active px-6 py-2 rounded-md text-sm font-medium transition-colors" data-filter="all">
                    All Photos
                </button>
                {{#each galleryCategories}}
                <button class="gallery-filter px-6 py-2 rounded-md text-sm font-medium transition-colors" data-filter="{{this.slug}}">
                    {{this.name}}
                </button>
                {{/each}}
            </div>
        </div>
        {{/if}}
        
        <!-- Gallery Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="galleryGrid">
            {{#each galleryImages}}
            <div class="gallery-item relative group overflow-hidden rounded-lg" 
                 data-category="{{this.category}}" 
                 data-aos="zoom-in" 
                 data-aos-delay="{{@index}}0">
                <img src="{{this.thumbnail}}" 
                     alt="{{this.caption}}" 
                     class="w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110">
                
                <!-- Overlay -->
                <div class="absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                    <div class="text-center">
                        <button class="text-white text-2xl mb-2 hover:text-basic-accent transition-colors" 
                                onclick="openLightbox('{{this.fullSize}}', '{{this.caption}}')">
                            <i class="fas fa-expand"></i>
                        </button>
                        {{#if this.caption}}
                        <p class="text-white text-sm px-2">{{this.caption}}</p>
                        {{/if}}
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        
        <!-- Load More Button -->
        {{#if content.hasMoreImages}}
        <div class="text-center mt-12" data-aos="fade-up">
            <button id="loadMoreBtn" class="basic-btn">
                <i class="fas fa-plus mr-2"></i>
                Load More Photos
            </button>
        </div>
        {{/if}}
        
        {{else}}
        <!-- Empty Gallery State -->
        <div class="text-center py-16">
            <div class="w-32 h-32 mx-auto mb-6 bg-basic-primary rounded-lg flex items-center justify-center">
                <i class="fas fa-camera text-4xl text-white"></i>
            </div>
            <h3 class="text-2xl font-bold mb-4 basic-heading">Gallery Coming Soon</h3>
            <p class="text-gray-600 mb-8 max-w-md mx-auto">
                Professional photos will be available here soon. Check back for updates!
            </p>
            <a href="/{{modelSlug}}/contact" class="basic-btn">
                Get in Touch
            </a>
        </div>
        {{/if}}
    </div>
</section>

<!-- Photo Stats -->
{{#if galleryStats}}
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            {{#if galleryStats.totalPhotos}}
            <div class="text-center" data-aos="fade-up" data-aos-delay="0">
                <div class="text-3xl font-bold text-basic-primary mb-2">{{galleryStats.totalPhotos}}</div>
                <div class="text-gray-600">Total Photos</div>
            </div>
            {{/if}}
            
            {{#if galleryStats.categories}}
            <div class="text-center" data-aos="fade-up" data-aos-delay="100">
                <div class="text-3xl font-bold text-basic-primary mb-2">{{galleryStats.categories}}</div>
                <div class="text-gray-600">Categories</div>
            </div>
            {{/if}}
            
            {{#if galleryStats.lastUpdated}}
            <div class="text-center" data-aos="fade-up" data-aos-delay="200">
                <div class="text-3xl font-bold text-basic-primary mb-2">{{galleryStats.lastUpdated}}</div>
                <div class="text-gray-600">Last Updated</div>
            </div>
            {{/if}}
            
            {{#if galleryStats.featured}}
            <div class="text-center" data-aos="fade-up" data-aos-delay="300">
                <div class="text-3xl font-bold text-basic-primary mb-2">{{galleryStats.featured}}</div>
                <div class="text-gray-600">Featured</div>
            </div>
            {{/if}}
        </div>
    </div>
</section>
{{/if}}

<!-- Call to Action -->
<section class="py-16 bg-basic-primary text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" data-aos="fade-up">
        <h2 class="text-3xl font-bold mb-6 basic-heading">
            Like What You See?
        </h2>
        <p class="text-xl mb-8 opacity-90 max-w-2xl mx-auto">
            Ready to book or have questions? Let's connect and discuss your needs.
        </p>
        <div class="flex flex-col sm:flex-row justify-center gap-4">
            <a href="/{{modelSlug}}/contact" class="basic-btn bg-white text-basic-primary hover:bg-gray-100">
                <i class="fas fa-envelope mr-2"></i>
                Contact Me
            </a>
            <a href="/{{modelSlug}}/rates" class="basic-btn-outline border-white text-white hover:bg-white hover:text-basic-primary">
                <i class="fas fa-list mr-2"></i>
                View Services
            </a>
        </div>
    </div>
</section>

<!-- Lightbox Modal -->
<div id="lightboxModal" class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden flex items-center justify-center">
    <div class="relative max-w-4xl mx-auto p-4">
        <button onclick="closeLightbox()" class="absolute top-4 right-4 text-white text-2xl hover:text-basic-accent transition-colors z-10">
            <i class="fas fa-times"></i>
        </button>
        <img id="lightboxImage" src="" alt="" class="max-w-full max-h-screen object-contain">
        <div id="lightboxCaption" class="text-white text-center mt-4 hidden"></div>
    </div>
</div>

<script>
// Gallery filtering
document.addEventListener('DOMContentLoaded', function() {
    const filters = document.querySelectorAll('.gallery-filter');
    const items = document.querySelectorAll('.gallery-item');
    
    filters.forEach(filter => {
        filter.addEventListener('click', function() {
            const filterValue = this.dataset.filter;
            
            // Update active filter
            filters.forEach(f => f.classList.remove('active', 'bg-basic-primary', 'text-white'));
            this.classList.add('active', 'bg-basic-primary', 'text-white');
            
            // Filter items
            items.forEach(item => {
                if (filterValue === 'all' || item.dataset.category === filterValue) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    });
    
    // Load more functionality
    const loadMoreBtn = document.getElementById('loadMoreBtn');
    if (loadMoreBtn) {
        loadMoreBtn.addEventListener('click', function() {
            // This would typically load more images via AJAX
            this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Loading...';
            
            // Simulate loading delay
            setTimeout(() => {
                this.innerHTML = '<i class="fas fa-plus mr-2"></i>Load More Photos';
                // Add new images to gallery here
            }, 1000);
        });
    }
});

// Lightbox functionality
function openLightbox(imageSrc, caption) {
    const modal = document.getElementById('lightboxModal');
    const image = document.getElementById('lightboxImage');
    const captionDiv = document.getElementById('lightboxCaption');
    
    image.src = imageSrc;
    
    if (caption) {
        captionDiv.textContent = caption;
        captionDiv.classList.remove('hidden');
    } else {
        captionDiv.classList.add('hidden');
    }
    
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
}

function closeLightbox() {
    const modal = document.getElementById('lightboxModal');
    modal.classList.add('hidden');
    document.body.style.overflow = 'auto';
}

// Close lightbox on escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeLightbox();
    }
});

// Close lightbox on background click
document.getElementById('lightboxModal').addEventListener('click', function(e) {
    if (e.target === this) {
        closeLightbox();
    }
});
</script>