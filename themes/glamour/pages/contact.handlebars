<!-- Contact Header -->
{{#if content.contact_header_visible}}
<section class="relative py-32 overflow-hidden" style="background: var(--glamour-gradient); color: white;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div class="mb-8">
            <i class="fas fa-envelope text-6xl mb-6 text-white/80"></i>
        </div>
        <h1 class="text-5xl md:text-6xl font-bold mb-6" style="font-family: var(--font-display);">
            {{#if content.page_title}}{{content.page_title}}{{else}}Contact{{/if}}
        </h1>
        {{#if content.page_subtitle}}
        <p class="text-xl text-white/90 max-w-3xl mx-auto">
            {{content.page_subtitle}}
        </p>
        {{/if}}
        {{#if content.page_subtext}}
        <p class="text-lg text-white/80 max-w-2xl mx-auto mt-4">
            {{content.page_subtext}}
        </p>
        {{/if}}
    </div>
    <div class="absolute inset-0 opacity-10 pointer-events-none">
        <div class="absolute top-20 left-20 w-32 h-32 border border-white/20 rounded-full"></div>
        <div class="absolute bottom-32 right-16 w-24 h-24 border border-white/20 rounded-full"></div>
    </div>
</section>
{{else}}
<!-- Default Header if not visible -->
<section class="relative py-32 overflow-hidden" style="background: var(--glamour-gradient); color: white;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div class="mb-8">
            <i class="fas fa-envelope text-6xl mb-6 text-white/80"></i>
        </div>
        <h1 class="text-5xl md:text-6xl font-bold mb-6" style="font-family: var(--font-display);">
            Contact
        </h1>
        <p class="text-xl text-white/90 max-w-3xl mx-auto">
            Let's discuss how we can create an unforgettable experience together.
        </p>
    </div>
</section>
{{/if}}

<!-- Main Contact Section -->
<section class="py-20" style="background-color: var(--theme-bg);">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
            
            <!-- Direct Contact Information -->
            {{#if content.contact_direct_visible}}
            <div>
                <h2 class="text-3xl font-bold mb-8" style="color: var(--theme-text); font-family: var(--font-display);">
                    {{#if content.direct_title}}{{content.direct_title}}{{else}}Direct Contact{{/if}}
                </h2>
                
                <div class="space-y-6">
                    {{#if contactEmail}}
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: var(--glamour-gradient);">
                            <i class="fas fa-envelope text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-2" style="color: var(--theme-text);">
                                {{#if content.direct_email_label}}{{content.direct_email_label}}{{else}}Email{{/if}}
                            </h3>
                            <a href="mailto:{{contactEmail}}" style="color: var(--theme-link);" class="hover:underline">
                                {{contactEmail}}
                            </a>
                        </div>
                    </div>
                    {{/if}}
                    
                    {{#if contactPhone}}
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: var(--glamour-gradient);">
                            <i class="fas fa-phone text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-2" style="color: var(--theme-text);">
                                {{#if content.direct_phone_label}}{{content.direct_phone_label}}{{else}}Phone{{/if}}
                            </h3>
                            <a href="tel:{{contactPhone}}" style="color: var(--theme-link);" class="hover:underline">
                                {{contactPhone}}
                            </a>
                        </div>
                    </div>
                    {{/if}}
                    
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: var(--glamour-gradient);">
                            <i class="fas fa-clock text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-2" style="color: var(--theme-text);">
                                {{#if content.direct_response_label}}{{content.direct_response_label}}{{else}}Response Time{{/if}}
                            </h3>
                            <p style="color: var(--theme-text-subtle);">
                                {{#if content.direct_response_text}}{{content.direct_response_text}}{{else}}Within 24 hours{{/if}}
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: var(--glamour-gradient);">
                            <i class="fas fa-shield-alt text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-2" style="color: var(--theme-text);">
                                Privacy
                            </h3>
                            <p style="color: var(--theme-text-subtle);">
                                All communications are confidential and discreet.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="mt-12">
                    <a href="/{{modelSlug}}/calendar{{previewParam}}" class="glamour-btn">
                        <i class="fas fa-calendar-alt"></i>
                        View Availability
                    </a>
                </div>
            </div>
            {{else}}
            <!-- Default Contact Info if section not visible -->
            <div>
                <h2 class="text-3xl font-bold mb-8" style="color: var(--theme-text); font-family: var(--font-display);">
                    Let's Connect
                </h2>
                
                <div class="space-y-6">
                    {{#if contactEmail}}
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: var(--glamour-gradient);">
                            <i class="fas fa-envelope text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-2" style="color: var(--theme-text);">Email</h3>
                            <a href="mailto:{{contactEmail}}" style="color: var(--theme-link);" class="hover:underline">
                                {{contactEmail}}
                            </a>
                        </div>
                    </div>
                    {{/if}}
                    
                    {{#if contactPhone}}
                    <div class="flex items-start space-x-4">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: var(--glamour-gradient);">
                            <i class="fas fa-phone text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold mb-2" style="color: var(--theme-text);">Phone</h3>
                            <a href="tel:{{contactPhone}}" style="color: var(--theme-link);" class="hover:underline">
                                {{contactPhone}}
                            </a>
                        </div>
                    </div>
                    {{/if}}
                </div>
            </div>
            {{/if}}
            
            <!-- Contact Form -->
            {{#if content.contact_form_visible}}
            <div class="glamour-card p-8">
                <h3 class="text-2xl font-bold mb-6" style="color: var(--theme-text); font-family: var(--font-display);">
                    {{#if content.form_title}}{{content.form_title}}{{else}}Send a Message{{/if}}
                </h3>
                
                <form method="POST" id="contactForm" class="space-y-6">
                    <!-- Honeypot field for spam prevention -->
                    <input type="text" name="website" style="display: none;" tabindex="-1" autocomplete="off">
                    
                    <div>
                        <label for="name" class="block text-sm font-medium mb-2" style="color: var(--theme-text);">
                            {{#if content.form_name_label}}{{content.form_name_label}}{{else}}Your Name{{/if}} *
                        </label>
                        <input type="text" id="name" name="name" required 
                               class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                               style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                    </div>
                    
                    <div>
                        <label for="email" class="block text-sm font-medium mb-2" style="color: var(--theme-text);">
                            {{#if content.form_email_label}}{{content.form_email_label}}{{else}}Email Address{{/if}} *
                        </label>
                        <input type="email" id="email" name="email" required 
                               class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                               style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                    </div>
                    
                    {{#if content.form_phone_label}}
                    <div>
                        <label for="phone" class="block text-sm font-medium mb-2" style="color: var(--theme-text);">
                            {{content.form_phone_label}}
                        </label>
                        <input type="tel" id="phone" name="phone" 
                               class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                               style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                    </div>
                    {{/if}}
                    
                    {{#if content.form_date_label}}
                    <div>
                        <label for="preferred_date" class="block text-sm font-medium mb-2" style="color: var(--theme-text);">
                            {{content.form_date_label}}
                        </label>
                        <input type="date" id="preferred_date" name="preferred_date" 
                               class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                               style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                    </div>
                    {{/if}}
                    
                    {{#if content.form_duration_label}}
                    <div>
                        <label for="duration" class="block text-sm font-medium mb-2" style="color: var(--theme-text);">
                            {{content.form_duration_label}}
                        </label>
                        <select id="duration" name="duration" 
                                class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                                style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                            {{#if content.form_duration_options}}
                                {{#each (parseJSON content.form_duration_options)}}
                                <option value="{{this.value}}">{{this.label}}</option>
                                {{/each}}
                            {{else}}
                                <option value="1">1 Hour</option>
                                <option value="2">2 Hours</option>
                                <option value="4">4 Hours</option>
                                <option value="dinner">Dinner Date</option>
                                <option value="overnight">Overnight</option>
                            {{/if}}
                        </select>
                    </div>
                    {{/if}}
                    
                    <div>
                        <label for="message" class="block text-sm font-medium mb-2" style="color: var(--theme-text);">
                            {{#if content.form_message_label}}{{content.form_message_label}}{{else}}Message{{/if}} *
                        </label>
                        <textarea id="message" name="message" rows="6" required 
                                  class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2 resize-vertical"
                                  style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);"
                                  placeholder="{{#if content.form_message_placeholder}}{{content.form_message_placeholder}}{{else}}Please tell me about yourself and what you're looking for...{{/if}}"></textarea>
                    </div>
                    
                    <button type="submit" class="glamour-btn w-full">
                        <i class="fas fa-paper-plane"></i>
                        {{#if content.form_button_text}}{{content.form_button_text}}{{else}}Send Message{{/if}}
                    </button>
                </form>
            </div>
            {{else}}
            <!-- Default Contact Form if not visible -->
            <div class="glamour-card p-8">
                <h3 class="text-2xl font-bold mb-6" style="color: var(--theme-text); font-family: var(--font-display);">
                    Send a Message
                </h3>
                
                <form id="contact-form" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium mb-2" style="color: var(--theme-text);">Name</label>
                        <input type="text" name="name" required 
                               class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                               style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2" style="color: var(--theme-text);">Email</label>
                        <input type="email" name="email" required 
                               class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                               style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2" style="color: var(--theme-text);">Subject</label>
                        <input type="text" name="subject" required 
                               class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2"
                               style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2" style="color: var(--theme-text);">Message</label>
                        <textarea name="message" rows="6" required 
                                  class="w-full px-4 py-3 rounded-lg border transition-colors focus:outline-none focus:ring-2 resize-vertical"
                                  style="border-color: var(--theme-border); focus:ring-color: var(--theme-focus);"></textarea>
                    </div>
                    
                    <button type="submit" class="glamour-btn w-full">
                        <i class="fas fa-paper-plane"></i>
                        Send Message
                    </button>
                </form>
            </div>
            {{/if}}
        </div>
    </div>
</section>

<!-- Contact Guidelines -->
{{#if content.contact_guidelines_visible}}
<section class="py-20" style="background-color: var(--theme-bg-alt);">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="glamour-card p-12">
            <h3 class="text-2xl font-bold mb-8 text-center" style="color: var(--theme-text); font-family: var(--font-display);">
                {{#if content.guidelines_title}}{{content.guidelines_title}}{{else}}Contact Guidelines{{/if}}
            </h3>
            <ul class="space-y-4 max-w-2xl mx-auto">
                {{#if content.guideline_1}}
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">{{content.guideline_1}}</span>
                </li>
                {{/if}}
                {{#if content.guideline_2}}
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">{{content.guideline_2}}</span>
                </li>
                {{/if}}
                {{#if content.guideline_3}}
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">{{content.guideline_3}}</span>
                </li>
                {{/if}}
                {{#if content.guideline_4}}
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">{{content.guideline_4}}</span>
                </li>
                {{/if}}
                {{#if content.guideline_5}}
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">{{content.guideline_5}}</span>
                </li>
                {{/if}}
                
                {{#unless content.guideline_1}}
                <!-- Default guidelines if none are set -->
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">Please introduce yourself politely and professionally</span>
                </li>
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">Include your preferred date, time, and duration</span>
                </li>
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">Allow 24-48 hours for a response</span>
                </li>
                <li class="flex items-start space-x-3">
                    <i class="fas fa-check-circle mt-1" style="color: var(--theme-accent);"></i>
                    <span style="color: var(--theme-text-subtle);">All communications are kept strictly confidential</span>
                </li>
                {{/unless}}
            </ul>
        </div>
    </div>
</section>
{{/if}}

<!-- Location Information -->
{{#if content.contact_location_visible}}
<section class="py-20" style="background-color: var(--theme-bg);">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h3 class="text-3xl font-bold mb-6" style="color: var(--theme-text); font-family: var(--font-display);">
                {{#if content.location_title}}{{content.location_title}}{{else}}Service Areas{{/if}}
            </h3>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {{#if content.location_area_text}}
            <div class="glamour-card p-8 text-center">
                <i class="fas fa-map-marker-alt text-4xl mb-4" style="color: var(--theme-primary);"></i>
                <h4 class="text-xl font-semibold mb-4" style="color: var(--theme-text);">Service Area</h4>
                <p style="color: var(--theme-text-subtle);">{{content.location_area_text}}</p>
            </div>
            {{/if}}
            
            {{#if content.location_services_text}}
            <div class="glamour-card p-8 text-center">
                <i class="fas fa-concierge-bell text-4xl mb-4" style="color: var(--theme-primary);"></i>
                <h4 class="text-xl font-semibold mb-4" style="color: var(--theme-text);">Services Available</h4>
                <p style="color: var(--theme-text-subtle);">{{content.location_services_text}}</p>
            </div>
            {{/if}}
            
            {{#if content.location_travel_text}}
            <div class="glamour-card p-8 text-center">
                <i class="fas fa-plane text-4xl mb-4" style="color: var(--theme-primary);"></i>
                <h4 class="text-xl font-semibold mb-4" style="color: var(--theme-text);">Travel Information</h4>
                <p style="color: var(--theme-text-subtle);">{{content.location_travel_text}}</p>
            </div>
            {{/if}}
        </div>
    </div>
</section>
{{/if}}

<!-- Privacy Section -->
{{#if content.contact_privacy_visible}}
<section class="py-16" style="background-color: var(--theme-bg-alt);">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div class="glamour-card p-12">
            <i class="fas fa-shield-alt text-5xl mb-6" style="color: var(--theme-primary);"></i>
            <h3 class="text-2xl font-bold mb-6" style="color: var(--theme-text); font-family: var(--font-display);">
                {{#if content.privacy_title}}{{content.privacy_title}}{{else}}Your Privacy Matters{{/if}}
            </h3>
            <p class="text-lg leading-relaxed" style="color: var(--theme-text-subtle);">
                {{#if content.privacy_text}}{{content.privacy_text}}{{else}}All personal information and communications are kept strictly confidential. Your privacy and discretion are my highest priorities, and you can trust that our correspondence will remain completely secure.{{/if}}
            </p>
        </div>
    </div>
</section>
{{/if}}

<script>
// Contact form handling
document.addEventListener('DOMContentLoaded', function() {
    const contactForm = document.getElementById('contactForm') || document.getElementById('contact-form');
    
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
            submitBtn.disabled = true;
            
            // Collect form data
            const formData = new FormData(this);
            const formObject = {};
            formData.forEach((value, key) => {
                formObject[key] = value;
            });
            
            // Add model information
            formObject.modelSlug = '{{modelSlug}}';
            formObject.formType = 'contact';
            
            // Submit form
            fetch('/api/contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formObject)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Show success message
                    this.innerHTML = '<div class="text-center py-8"><i class="fas fa-check-circle text-green-500 text-4xl mb-4"></i><h3 class="text-xl font-bold mb-2" style="color: var(--theme-text);">Message Sent Successfully!</h3><p style="color: var(--theme-text-subtle);">Thank you for reaching out. I will respond within 24 hours.</p></div>';
                } else {
                    throw new Error(data.message || 'Failed to send message');
                }
            })
            .catch(error => {
                console.error('Contact form error:', error);
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Show error message
                alert('There was an issue sending your message. Please try again or contact me directly.');
            });
        });
    }
});
</script>