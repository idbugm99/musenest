<!-- Modern Contemporary Badge Component -->
<!-- Standardized badge component following Modern Theme Consistency Plan -->
<span class="modern-badge {{#if variant}}modern-badge-{{variant}}{{else}}modern-badge-default{{/if}} {{badgeClass}}"
      style="display: inline-flex;
             align-items: center;
             gap: 0.375rem;
             padding: 0.375rem 0.75rem;
             border-radius: 6px;
             font-size: 0.75rem;
             font-weight: 600;
             line-height: 1;
             white-space: nowrap;
             transition: all 0.3s ease;
             {{#if size}}
             {{#if (eq size 'xs')}}
             padding: 0.25rem 0.5rem;
             font-size: 0.625rem;
             {{else if (eq size 'sm')}}
             padding: 0.3125rem 0.625rem;
             font-size: 0.6875rem;
             {{else if (eq size 'lg')}}
             padding: 0.5rem 1rem;
             font-size: 0.875rem;
             {{/if}}
             {{/if}}
             {{#if (eq variant 'primary')}}
             background: #dbeafe;
             color: #1e40af;
             {{else if (eq variant 'secondary')}}
             background: #f1f5f9;
             color: #334155;
             {{else if (eq variant 'success')}}
             background: #dcfce7;
             color: #166534;
             {{else if (eq variant 'warning')}}
             background: #fef3c7;
             color: #92400e;
             {{else if (eq variant 'danger')}}
             background: #fecaca;
             color: #991b1b;
             {{else if (eq variant 'info')}}
             background: #e0f2fe;
             color: #0c4a6e;
             {{else if (eq variant 'purple')}}
             background: #f3e8ff;
             color: #7c2d12;
             {{else if (eq variant 'pink')}}
             background: #fce7f3;
             color: #9d174d;
             {{else if (eq variant 'gray')}}
             background: #f8fafc;
             color: #475569;
             {{else if (eq variant 'dark')}}
             background: #1e293b;
             color: white;
             {{else if (eq variant 'light')}}
             background: white;
             color: #374151;
             border: 1px solid #e5e7eb;
             {{else}}
             background: #dbeafe;
             color: #1e40af;
             {{/if}}
             {{#if customStyles}}{{customStyles}}{{/if}}"
      {{#if clickable}}
      style="cursor: pointer;"
      onmouseover="this.style.transform='translateY(-1px)'; 
                   this.style.boxShadow='0 2px 4px rgba(0, 0, 0, 0.1)';"
      onmouseout="this.style.transform='translateY(0)'; 
                  this.style.boxShadow='none';"
      {{#if onclick}}onclick="{{onclick}}"{{/if}}
      {{/if}}>
    
    <!-- Leading Icon (optional) -->
    {{#if leadingIcon}}
    <i class="{{leadingIcon}}" 
       style="font-size: {{#if size}}{{#if (eq size 'xs')}}0.5rem{{else if (eq size 'sm')}}0.5625rem{{else if (eq size 'lg')}}0.75rem{{else}}0.625rem{{/if}}{{else}}0.625rem{{/if}};"></i>
    {{/if}}
    
    <!-- Badge Content -->
    {{#if content}}
    {{{content}}}
    {{else}}
    {{text}}
    {{/if}}
    
    <!-- Trailing Icon/Action (optional) -->
    {{#if trailingIcon}}
    <i class="{{trailingIcon}}" 
       style="font-size: {{#if size}}{{#if (eq size 'xs')}}0.5rem{{else if (eq size 'sm')}}0.5625rem{{else if (eq size 'lg')}}0.75rem{{else}}0.625rem{{/if}}{{else}}0.625rem{{/if}};"></i>
    {{/if}}
    
    <!-- Close/Remove Button (optional) -->
    {{#if removable}}
    <button type="button"
            style="background: none;
                   border: none;
                   color: inherit;
                   cursor: pointer;
                   padding: 0;
                   margin-left: 0.25rem;
                   display: inline-flex;
                   align-items: center;
                   justify-content: center;
                   border-radius: 2px;
                   transition: opacity 0.2s ease;"
            onmouseover="this.style.opacity='0.7';"
            onmouseout="this.style.opacity='1';"
            {{#if onRemove}}onclick="{{onRemove}}"{{/if}}>
        <i style="font-size: {{#if size}}{{#if (eq size 'xs')}}0.5rem{{else if (eq size 'sm')}}0.5625rem{{else if (eq size 'lg')}}0.75rem{{else}}0.625rem{{/if}}{{else}}0.625rem{{/if}};"
           class="fas fa-times"></i>
    </button>
    {{/if}}
    
    <!-- Notification Dot (optional) -->
    {{#if notification}}
    <span style="position: absolute;
                 top: -2px;
                 right: -2px;
                 width: 6px;
                 height: 6px;
                 background: #dc2626;
                 border-radius: 50%;
                 border: 1px solid white;"></span>
    {{/if}}
</span>

<!-- Badge Animation Styles -->
{{#if @first}}
<style>
/* Pulse animation for notification badges */
.modern-badge.pulse {
    animation: modern-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes modern-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Interactive badge states */
.modern-badge[onclick]:hover,
.modern-badge.clickable:hover {
    transform: translateY(-1px) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.modern-badge[onclick]:active,
.modern-badge.clickable:active {
    transform: translateY(0) !important;
    box-shadow: none !important;
}

/* Focus state for accessibility */
.modern-badge:focus {
    outline: 2px solid #2563eb;
    outline-offset: 1px;
}

/* Badge group styles */
.modern-badge-group {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    align-items: center;
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
    .modern-badge {
        font-size: 0.6875rem !important;
        padding: 0.3125rem 0.625rem !important;
    }
    
    .modern-badge.modern-badge-xs {
        font-size: 0.5625rem !important;
        padding: 0.1875rem 0.4375rem !important;
    }
    
    .modern-badge.modern-badge-sm {
        font-size: 0.625rem !important;
        padding: 0.25rem 0.5rem !important;
    }
    
    .modern-badge.modern-badge-lg {
        font-size: 0.8125rem !important;
        padding: 0.4375rem 0.875rem !important;
    }
}
</style>
{{/if}}